@model IEnumerable<TestWithoutAutentification.Models.Vacancy>
@*Главный список вакансий*@
@{
    ViewData["Title"] = "Соискателям";
}
<nav class="navbar navbar-expand-sm">
    <div class="container justify-content-end">
        <partial name="_LoginPartial" />
    </div>
</nav>

<form asp-controller="Home" asp-action="Index" class="formSearch">
    <div class="form-group row">
        <div class="col-sm-10">
            <input type="text" name="SearchString" placeholder="Поиск по должности, названию компаний" class="form-control" />
        </div>        
        <div class="col-sm-2 pl-0">
            <input type="submit" value="Найти" class="form-control btn btn-light" style="border-color: #DADADA; " />
        </div>       
    </div>
    <div class="form-group row" id="filterDiv" style="display:none;">
        <div class="col-sm-3">
            <label class="control-label">Специализация</label>
            <select name="specialization" id="specialization" asp-items="ViewBag.Specializations" class="form-control">
                <option selected>Все</option>
            </select>
        </div>
        <div class="col-sm-3">
            <label class="control-label">Город</label>
            <select name="city" id="city" asp-items="ViewBag.Cities" class="form-control">
                <option selected>Все</option>
            </select>
        </div>
        <div class="col-sm-3">
            <label class="control-label">Опыт работы</label>
            <select name="experience" id="experience" asp-items="ViewBag.Experiences" class="form-control">
                <option selected>Все</option>
            </select>
        </div>
        <div class="col-sm-3">
            <label class="control-label">Удаленная работа</label>
            <input type="checkbox" name="remote" id="remote" />  
        </div>
    </div>
</form>
<div class="hrefFilter">
    <a id="filter">Показать фильтры</a>
</div>

@foreach (var item in Model)
{
<div id="list-main">
    <div class="listContainer">
        <div class="list-title">
            <a asp-action="ShowVacancy" asp-controller="Vacancies" asp-route-id="@item.Id">@item.Position</a> @*добавить страницу просмотра вакансии*@
        </div>
        <span class="font-weight-bold">@item.Salary.Amount @item.Salary.Currency.Name</span>
        <div>
            <span class="list-description">О компании</span><br />
            <a href="@item.Company.Site">@item.Company.Name</a> <br />
            @if(item.CityId != null)
            {
                <span>г. @item.City.Name</span>
            }
        </div>
        @if (@item.WorkExperience.Name == "Нет опыта")
        {
            <span class="list-description">Опыт не требуется</span><br />
        }
        else
        {
            <div>
                <span class="list-description">Требуемый опыт</span><br />
                @item.WorkExperience.Name
            </div>
        }
        <div class="align-bottom">
            <input type="button" class="btn btn-primary compItem" data-url="@Url.Action("GetPartialMail", "Home", new { id = item.Id })" value="Откликнуться на вакансию" />
        </div>
    </div>
</div>
}


